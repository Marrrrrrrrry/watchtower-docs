import{_ as s,c as i,o as a,ae as n}from"./chunks/framework.CBQY1fUt.js";const k=JSON.parse('{"title":"Secure connections","description":"","frontmatter":{},"headers":[],"relativePath":"secure-connections.md","filePath":"secure-connections.md","lastUpdated":1763853533000}'),t={name:"secure-connections.md"};function r(c,e,o,h,l,p){return a(),i("div",null,[...e[0]||(e[0]=[n(`<h1 id="secure-connections" tabindex="-1">Secure connections <a class="header-anchor" href="#secure-connections" aria-label="Permalink to &quot;Secure connections&quot;">â€‹</a></h1><p>Watchtower is also capable of connecting to Docker endpoints which are protected by SSL/TLS. If you&#39;ve used <em>docker-machine</em> to provision your remote Docker host, you simply need to volume mount the certificates generated by <em>docker-machine</em> into the watchtower container and optionally specify <code>--tlsverify</code> flag.</p><p>The <em>docker-machine</em> certificates for a particular host can be located by executing the <code>docker-machine env</code> command for the desired host (note the values for the <code>DOCKER_HOST</code> and <code>DOCKER_CERT_PATH</code> environment variables that are returned from this command). The directory containing the certificates for the remote host needs to be mounted into the watchtower container at <em>/etc/ssl/docker</em>.</p><p>With the certificates mounted into the watchtower container you need to specify the <code>--tlsverify</code> flag to enable verification of the certificate:</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watchtower</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_HOST=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$DOCKER_HOST </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> DOCKER_CERT_PATH=/etc/ssl/docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  -v</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $DOCKER_CERT_PATH</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:/etc/ssl/docker</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  marrrrrrrrry/watchtower</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --tlsverify</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,5)])])}const m=s(t,[["render",r]]);export{k as __pageData,m as default};
