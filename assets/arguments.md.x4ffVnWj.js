import{_ as e,c as s,o as n,ae as i}from"./chunks/framework.CBQY1fUt.js";const h=JSON.parse('{"title":"Arguments","description":"","frontmatter":{},"headers":[],"relativePath":"arguments.md","filePath":"arguments.md","lastUpdated":1763853533000}'),t={name:"arguments.md"};function l(p,a,r,o,c,d){return n(),s("div",null,[...a[0]||(a[0]=[i(`<h1 id="arguments" tabindex="-1">Arguments <a class="header-anchor" href="#arguments" aria-label="Permalink to &quot;Arguments&quot;">​</a></h1><p>By default, watchtower will monitor all containers running within the Docker daemon to which it is pointed (in most cases this will be the local Docker daemon, but you can override it with the <code>--host</code> option described in the next section). However, you can restrict watchtower to monitoring a subset of the running containers by specifying the container names as arguments when launching watchtower.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> watchtower</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/run/docker.sock:/var/run/docker.sock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    marrrrrrrrry/watchtower</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>In the example above, watchtower will only monitor the containers named &quot;nginx&quot; and &quot;redis&quot; for updates -- all of the other running containers will be ignored. If you do not want watchtower to run as a daemon you can pass the <code>--run-once</code> flag and remove the watchtower container after its execution.</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    -v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /var/run/docker.sock:/var/run/docker.sock</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    marrrrrrrrry/watchtower</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    --run-once</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    nginx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> redis</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>In the example above, watchtower will execute an upgrade attempt on the containers named &quot;nginx&quot; and &quot;redis&quot;. Using this mode will enable debugging output showing all actions performed, as usage is intended for interactive users. Once the attempt is completed, the container will exit and remove itself due to the <code>--rm</code> flag.</p><p>When no arguments are specified, watchtower will monitor all running containers.</p><h2 id="secrets-files" tabindex="-1">Secrets/Files <a class="header-anchor" href="#secrets-files" aria-label="Permalink to &quot;Secrets/Files&quot;">​</a></h2><p>Some arguments can also reference a file, in which case the contents of the file are used as the value. This can be used to avoid putting secrets in the configuration file or command line.</p><p>The following arguments are currently supported (including their corresponding <code>WATCHTOWER_</code> environment variables):</p><ul><li><code>notification-url</code></li><li><code>notification-email-server-password</code></li><li><code>notification-slack-hook-url</code></li><li><code>notification-msteams-hook</code></li><li><code>notification-gotify-token</code></li><li><code>http-api-token</code></li></ul><h2 id="example-docker-compose-usage" tabindex="-1">Example docker-compose usage <a class="header-anchor" href="#example-docker-compose-usage" aria-label="Permalink to &quot;Example docker-compose usage&quot;">​</a></h2><div class="language-yaml vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">secrets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  access_token</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    file</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">access_token</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">services</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  watchtower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secrets</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">access_token</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    environment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">WATCHTOWER_HTTP_API_TOKEN=/run/secrets/access_token</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="help" tabindex="-1">Help <a class="header-anchor" href="#help" aria-label="Permalink to &quot;Help&quot;">​</a></h2><p>Shows documentation about the supported flags.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --help</span></span>
<span class="line"><span>Environment Variable: N/A</span></span>
<span class="line"><span>                Type: N/A</span></span>
<span class="line"><span>             Default: N/A</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="time-zone" tabindex="-1">Time Zone <a class="header-anchor" href="#time-zone" aria-label="Permalink to &quot;Time Zone&quot;">​</a></h2><p>Sets the time zone to be used by WatchTower&#39;s logs and the optional Cron scheduling argument (--schedule). If this environment variable is not set, Watchtower will use the default time zone: UTC. To find out the right value, see <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noreferrer">this list</a>, find your location and use the value in <em>TZ Database Name</em>, e.g <em>Europe/Rome</em>. The timezone can alternatively be set by volume mounting your hosts /etc/localtime file. <code>-v /etc/localtime:/etc/localtime:ro</code></p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Environment Variable: TZ</span></span>
<span class="line"><span>            Argument: N/A</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: &quot;UTC&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="cleanup" tabindex="-1">Cleanup <a class="header-anchor" href="#cleanup" aria-label="Permalink to &quot;Cleanup&quot;">​</a></h2><p>Removes old images after updating. When this flag is specified, watchtower will remove the old image after restarting a container with a new image. Use this option to prevent the accumulation of orphaned images on your system as containers are updated.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --cleanup</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_CLEANUP</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="remove-anonymous-volumes" tabindex="-1">Remove anonymous volumes <a class="header-anchor" href="#remove-anonymous-volumes" aria-label="Permalink to &quot;Remove anonymous volumes&quot;">​</a></h2><p>Removes anonymous volumes after updating. When this flag is specified, watchtower will remove all anonymous volumes from the container before restarting with a new image. Named volumes will not be removed!</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --remove-volumes</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_REMOVE_VOLUMES</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="debug" tabindex="-1">Debug <a class="header-anchor" href="#debug" aria-label="Permalink to &quot;Debug&quot;">​</a></h2><p>Enable debug mode with verbose logging.</p><div class="info custom-block"><p class="custom-block-title">Notes</p><p>Alias for <code>--log-level debug</code>. See <a href="#maximum-log-level">Maximum log level</a>.<br> Does <em>not</em> take an argument when used as an argument. Using <code>--debug true</code> will <strong>not</strong> work.</p></div><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --debug, -d</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_DEBUG</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="trace" tabindex="-1">Trace <a class="header-anchor" href="#trace" aria-label="Permalink to &quot;Trace&quot;">​</a></h2><p>Enable trace mode with very verbose logging. Caution: exposes credentials!</p><div class="info custom-block"><p class="custom-block-title">Notes</p><p>Alias for <code>--log-level trace</code>. See <a href="#maximum-log-level">Maximum log level</a>.<br> Does <em>not</em> take an argument when used as an argument. Using <code>--trace true</code> will <strong>not</strong> work.</p></div><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --trace</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_TRACE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="maximum-log-level" tabindex="-1">Maximum log level <a class="header-anchor" href="#maximum-log-level" aria-label="Permalink to &quot;Maximum log level&quot;">​</a></h2><p>The maximum log level that will be written to STDERR (shown in <code>docker log</code> when used in a container).</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --log-level</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_LOG_LEVEL</span></span>
<span class="line"><span>     Possible values: panic, fatal, error, warn, info, debug or trace</span></span>
<span class="line"><span>             Default: info</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="logging-format" tabindex="-1">Logging format <a class="header-anchor" href="#logging-format" aria-label="Permalink to &quot;Logging format&quot;">​</a></h2><p>Sets what logging format to use for console output.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --log-format, -l</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_LOG_FORMAT</span></span>
<span class="line"><span>     Possible values: Auto, LogFmt, Pretty or JSON</span></span>
<span class="line"><span>             Default: Auto</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="ansi-colors" tabindex="-1">ANSI colors <a class="header-anchor" href="#ansi-colors" aria-label="Permalink to &quot;ANSI colors&quot;">​</a></h2><p>Disable ANSI color escape codes in log output.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --no-color</span></span>
<span class="line"><span>Environment Variable: NO_COLOR</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="docker-host" tabindex="-1">Docker host <a class="header-anchor" href="#docker-host" aria-label="Permalink to &quot;Docker host&quot;">​</a></h2><p>Docker daemon socket to connect to. Can be pointed at a remote Docker host by specifying a TCP endpoint as &quot;tcp://hostname:port&quot;.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --host, -H</span></span>
<span class="line"><span>Environment Variable: DOCKER_HOST</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: &quot;unix:///var/run/docker.sock&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="docker-api-version" tabindex="-1">Docker API version <a class="header-anchor" href="#docker-api-version" aria-label="Permalink to &quot;Docker API version&quot;">​</a></h2><p>The API version to use by the Docker client for connecting to the Docker daemon. The minimum supported version is 1.24.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --api-version, -a</span></span>
<span class="line"><span>Environment Variable: DOCKER_API_VERSION</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: &quot;1.24&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="include-restarting" tabindex="-1">Include restarting <a class="header-anchor" href="#include-restarting" aria-label="Permalink to &quot;Include restarting&quot;">​</a></h2><p>Will also include restarting containers.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --include-restarting</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_INCLUDE_RESTARTING</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="include-stopped" tabindex="-1">Include stopped <a class="header-anchor" href="#include-stopped" aria-label="Permalink to &quot;Include stopped&quot;">​</a></h2><p>Will also include created and exited containers.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --include-stopped, -S</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_INCLUDE_STOPPED</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="revive-stopped" tabindex="-1">Revive stopped <a class="header-anchor" href="#revive-stopped" aria-label="Permalink to &quot;Revive stopped&quot;">​</a></h2><p>Start any stopped containers that have had their image updated. This argument is only usable with the <code>--include-stopped</code> argument.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --revive-stopped</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_REVIVE_STOPPED</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="poll-interval" tabindex="-1">Poll interval <a class="header-anchor" href="#poll-interval" aria-label="Permalink to &quot;Poll interval&quot;">​</a></h2><p>Poll interval (in seconds). This value controls how frequently watchtower will poll for new images. Either <code>--schedule</code> or a poll interval can be defined, but not both.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --interval, -i</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_POLL_INTERVAL</span></span>
<span class="line"><span>                Type: Integer</span></span>
<span class="line"><span>             Default: 86400 (24 hours)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="filter-by-enable-label" tabindex="-1">Filter by enable label <a class="header-anchor" href="#filter-by-enable-label" aria-label="Permalink to &quot;Filter by enable label&quot;">​</a></h2><p>Monitor and update containers that have a <code>com.centurylinklabs.watchtower.enable</code> label set to true.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --label-enable</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_LABEL_ENABLE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="filter-by-disable-label" tabindex="-1">Filter by disable label <a class="header-anchor" href="#filter-by-disable-label" aria-label="Permalink to &quot;Filter by disable label&quot;">​</a></h2><p><strong>Do not</strong> Monitor and update containers that have <code>com.centurylinklabs.watchtower.enable</code> label set to false and no <code>--label-enable</code> argument is passed. Note that only one or the other (targeting by enable label) can be used at the same time to target containers.</p><h2 id="filter-by-disabling-specific-container-names" tabindex="-1">Filter by disabling specific container names <a class="header-anchor" href="#filter-by-disabling-specific-container-names" aria-label="Permalink to &quot;Filter by disabling specific container names&quot;">​</a></h2><p>Monitor and update containers whose names are not in a given set of names.</p><p>This can be used to exclude specific containers, when setting labels is not an option. The listed containers will be excluded even if they have the enable filter set to true.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --disable-containers, -x</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_DISABLE_CONTAINERS</span></span>
<span class="line"><span>                Type: Comma- or space-separated string list</span></span>
<span class="line"><span>             Default: &quot;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="without-updating-containers" tabindex="-1">Without updating containers <a class="header-anchor" href="#without-updating-containers" aria-label="Permalink to &quot;Without updating containers&quot;">​</a></h2><p>Will only monitor for new images, send notifications and invoke the <a href="https://marrrrrrrrry.dev/watchtower/lifecycle-hooks/" target="_blank" rel="noreferrer">pre-check/post-check hooks</a>, but will <strong>not</strong> update the containers.</p><div class="info custom-block"><p class="custom-block-title">INFO</p><p>Due to Docker API limitations the latest image will still be pulled from the registry. The HEAD digest checks allows watchtower to skip pulling when there are no changes, but to know <em>what</em> has changed it will still do a pull whenever the repository digest doesn&#39;t match the local image digest.</p></div><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --monitor-only</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_MONITOR_ONLY</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Note that monitor-only can also be specified on a per-container basis with the <code>com.centurylinklabs.watchtower.monitor-only</code> label set on those containers.</p><p>See <a href="#With-label-taking-precedence-over-arguments">With label taking precedence over arguments</a> for behavior when both argument and label are set</p><h2 id="with-label-taking-precedence-over-arguments" tabindex="-1">With label taking precedence over arguments <a class="header-anchor" href="#with-label-taking-precedence-over-arguments" aria-label="Permalink to &quot;With label taking precedence over arguments&quot;">​</a></h2><p>By default, arguments will take precedence over labels. This means that if you set <code>WATCHTOWER_MONITOR_ONLY</code> to true or use <code>--monitor-only</code>, a container with <code>com.centurylinklabs.watchtower.monitor-only</code> set to false will not be updated. If you set <code>WATCHTOWER_LABEL_TAKE_PRECEDENCE</code> to true or use <code>--label-take-precedence</code>, then the container will also be updated. This also apply to the no pull option. if you set <code>WATCHTOWER_NO_PULL</code> to true or use <code>--no-pull</code>, a container with <code>com.centurylinklabs.watchtower.no-pull</code> set to false will not pull the new image. If you set <code>WATCHTOWER_LABEL_TAKE_PRECEDENCE</code> to true or use <code>--label-take-precedence</code>, then the container will pull image</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --label-take-precedence</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_LABEL_TAKE_PRECEDENCE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="without-restarting-containers" tabindex="-1">Without restarting containers <a class="header-anchor" href="#without-restarting-containers" aria-label="Permalink to &quot;Without restarting containers&quot;">​</a></h2><p>Do not restart containers after updating. This option can be useful when the start of the containers is managed by an external system such as systemd.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --no-restart</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_NO_RESTART</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="without-pulling-new-images" tabindex="-1">Without pulling new images <a class="header-anchor" href="#without-pulling-new-images" aria-label="Permalink to &quot;Without pulling new images&quot;">​</a></h2><p>Do not pull new images. When this flag is specified, watchtower will not attempt to pull new images from the registry. Instead it will only monitor the local image cache for changes. Use this option if you are building new images directly on the Docker host without pushing them to a registry.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --no-pull</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_NO_PULL</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Note that no-pull can also be specified on a per-container basis with the <code>com.centurylinklabs.watchtower.no-pull</code> label set on those containers.</p><p>See <a href="#With-label-taking-precedence-over-arguments">With label taking precedence over arguments</a> for behavior when both argument and label are set</p><h2 id="without-sending-a-startup-message" tabindex="-1">Without sending a startup message <a class="header-anchor" href="#without-sending-a-startup-message" aria-label="Permalink to &quot;Without sending a startup message&quot;">​</a></h2><p>Do not send a message after watchtower started. Otherwise there will be an info-level notification.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --no-startup-message</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_NO_STARTUP_MESSAGE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="run-once" tabindex="-1">Run once <a class="header-anchor" href="#run-once" aria-label="Permalink to &quot;Run once&quot;">​</a></h2><p>Run an update attempt against a container name list one time immediately and exit.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --run-once, -R</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_RUN_ONCE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="http-api-mode" tabindex="-1">HTTP API Mode <a class="header-anchor" href="#http-api-mode" aria-label="Permalink to &quot;HTTP API Mode&quot;">​</a></h2><p>Runs Watchtower in HTTP API mode, only allowing image updates to be triggered by an HTTP request. For details see <a href="https://marrrrrrrrry.dev/watchtower/http-api-mode" target="_blank" rel="noreferrer">HTTP API</a>.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --http-api-update</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_HTTP_API_UPDATE</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="http-api-token" tabindex="-1">HTTP API Token <a class="header-anchor" href="#http-api-token" aria-label="Permalink to &quot;HTTP API Token&quot;">​</a></h2><p>Sets an authentication token to HTTP API requests. Can also reference a file, in which case the contents of the file are used.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --http-api-token</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_HTTP_API_TOKEN</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="http-api-periodic-polls" tabindex="-1">HTTP API periodic polls <a class="header-anchor" href="#http-api-periodic-polls" aria-label="Permalink to &quot;HTTP API periodic polls&quot;">​</a></h2><p>Keep running periodic updates if the HTTP API mode is enabled, otherwise the HTTP API would prevent periodic polls.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --http-api-periodic-polls</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_HTTP_API_PERIODIC_POLLS</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="filter-by-scope" tabindex="-1">Filter by scope <a class="header-anchor" href="#filter-by-scope" aria-label="Permalink to &quot;Filter by scope&quot;">​</a></h2><p>Update containers that have a <code>com.centurylinklabs.watchtower.scope</code> label set with the same value as the given argument. This enables <a href="https://marrrrrrrrry.dev/watchtower/running-multiple-instances" target="_blank" rel="noreferrer">running multiple instances</a>.</p><div class="info custom-block"><p class="custom-block-title">Filter by lack of scope</p><p>If you want other instances of watchtower to ignore the scoped containers, set this argument to <code>none</code>. When omitted, watchtower will update all containers regardless of scope.</p></div><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --scope</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_SCOPE</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="http-api-metrics" tabindex="-1">HTTP API Metrics <a class="header-anchor" href="#http-api-metrics" aria-label="Permalink to &quot;HTTP API Metrics&quot;">​</a></h2><p>Enables a metrics endpoint, exposing prometheus metrics via HTTP. See <a href="./metrics.html">Metrics</a> for details.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --http-api-metrics</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_HTTP_API_METRICS</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="scheduling" tabindex="-1">Scheduling <a class="header-anchor" href="#scheduling" aria-label="Permalink to &quot;Scheduling&quot;">​</a></h2><p><a href="https://pkg.go.dev/github.com/robfig/cron@v1.2.0?tab=doc#hdr-CRON_Expression_Format" target="_blank" rel="noreferrer">Cron expression</a> in 6 fields (rather than the traditional 5) which defines when and how often to check for new images. Either <code>--schedule</code> or a poll interval can be defined, but not both. An example: <code>--schedule &quot;0 0 4 * * *&quot;</code></p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --schedule, -s</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_SCHEDULE</span></span>
<span class="line"><span>                Type: String</span></span>
<span class="line"><span>             Default: -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="rolling-restart" tabindex="-1">Rolling restart <a class="header-anchor" href="#rolling-restart" aria-label="Permalink to &quot;Rolling restart&quot;">​</a></h2><p>Restart one image at time instead of stopping and starting all at once. Useful in conjunction with lifecycle hooks to implement zero-downtime deploy.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --rolling-restart</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_ROLLING_RESTART</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="wait-until-timeout" tabindex="-1">Wait until timeout <a class="header-anchor" href="#wait-until-timeout" aria-label="Permalink to &quot;Wait until timeout&quot;">​</a></h2><p>Timeout before the container is forcefully stopped. When set, this option will change the default (<code>10s</code>) wait time to the given value. An example: <code>--stop-timeout 30s</code> will set the timeout to 30 seconds.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --stop-timeout</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_TIMEOUT</span></span>
<span class="line"><span>                Type: Duration</span></span>
<span class="line"><span>             Default: 10s</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="tls-verification" tabindex="-1">TLS Verification <a class="header-anchor" href="#tls-verification" aria-label="Permalink to &quot;TLS Verification&quot;">​</a></h2><p>Use TLS when connecting to the Docker socket and verify the server&#39;s certificate. See below for options used to configure notifications.</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --tlsverify</span></span>
<span class="line"><span>Environment Variable: DOCKER_TLS_VERIFY</span></span>
<span class="line"><span>                Type: Boolean</span></span>
<span class="line"><span>             Default: false</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="head-failure-warnings" tabindex="-1">HEAD failure warnings <a class="header-anchor" href="#head-failure-warnings" aria-label="Permalink to &quot;HEAD failure warnings&quot;">​</a></h2><p>When to warn about HEAD pull requests failing. Auto means that it will warn when the registry is known to handle the requests and may rate limit pull requests (mainly docker.io).</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --warn-on-head-failure</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_WARN_ON_HEAD_FAILURE</span></span>
<span class="line"><span>     Possible values: always, auto, never</span></span>
<span class="line"><span>             Default: auto</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="health-check" tabindex="-1">Health check <a class="header-anchor" href="#health-check" aria-label="Permalink to &quot;Health check&quot;">​</a></h2><p>Returns a success exit code to enable usage with docker <code>HEALTHCHECK</code>. This check is naive and only returns checks whether there is another process running inside the container, as it is the only known form of failure state for watchtowers container.</p><div class="info custom-block"><p class="custom-block-title">Only for HEALTHCHECK use</p><p>Never put this on the main container executable command line as it is only meant to be run from docker HEALTHCHECK.</p></div><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>            Argument: --health-check</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="programatic-output-porcelain" tabindex="-1">Programatic Output (porcelain) <a class="header-anchor" href="#programatic-output-porcelain" aria-label="Permalink to &quot;Programatic Output (porcelain)&quot;">​</a></h2><p>Writes the session results to STDOUT using a stable, machine-readable format (indicated by the argument VERSION).</p><p>Alias for:</p><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>		--notification-url logger://</span></span>
<span class="line"><span>		--notification-log-stdout</span></span>
<span class="line"><span>		--notification-report</span></span>
<span class="line"><span>		--notification-template porcelain.VERSION.summary-no-log</span></span>
<span class="line"><span></span></span>
<span class="line"><span>            Argument: --porcelain, -P</span></span>
<span class="line"><span>Environment Variable: WATCHTOWER_PORCELAIN</span></span>
<span class="line"><span>     Possible values: v1</span></span>
<span class="line"><span>             Default: -</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div>`,131)])])}const b=e(t,[["render",l]]);export{h as __pageData,b as default};
